const translations = {
    en: {
        site_name: "Slot Expert",
        page_title: {
            new_slots: "Slot Expert - New Slots",
            all_slots: "Slot Expert - All Slots",
            pragmatic_slots: "Slot Expert - Pragmatic Slots",
            strategies: "Slot Expert - Strategies",
            login: "Slot Expert - Admin Login",
            admin: "Slot Expert - Admin Panel"
        },
        nav: {
            new_slots: "New Slots",
            pragmatic_slots: "Pragmatic Slots",
            all_slots: "All Slots",
            strategies: "Strategies"
        },
        hero: {
            title: "Your Guide to Online Slots",
            subtitle: "Explore top slots, read reviews, and master winning strategies",
            explore_slots: "Explore New Slots",
            random_slot: "Random Slot"
        },
        new_slots_page: {
            title: "Discover New Slots",
            subtitle: "Explore the latest slot releases with exciting features and high payouts"
        },
        all_slots_page: {
            title: "All Slots Collection",
            subtitle: "Browse our complete library of online slots with reviews and ratings"
        },
        pragmatic_slots_page: {
            title: "Pragmatic Play Slots",
            subtitle: "Discover the best slots from Pragmatic Play with thrilling features and high RTP"
        },
        strategies_page: {
            title: "Gaming Strategies",
            subtitle: "Master your gameplay with proven slot strategies and tips"
        },
        new_slots: {
            title: "Latest Slot Releases"
        },
        all_slots: {
            title: "Our Slot Library"
        },
        pragmatic_slots: {
            title: "Top Pragmatic Play Slots"
        },
        strategies: {
            title: "Top Strategies",
            read_more: "Read More"
        },
        slots: {
            new: "NEW",
            top: "TOP",
            pragmatic: "Pragmatic",
            rtp: "RTP {value}",
            read_review: "Read Review"
        },
        items: {
            new: "New",
            top: "Top",
            pragmatic: "Pragmatic",
            strategy: "Strategy"
        },
        tabs: {
            new_slots: "New Slots",
            top_slots: "Top Slots",
            strategies: "Gaming Strategies"
        },
        footer: {
            about: "The most honest guide to online slots and gaming strategies.",
            sections: "Sections",
            all_slots: "All Slots",
            gaming_strategies: "Gaming Strategies",
            information: "Information",
            about_us: "About Us",
            contacts: "Contacts",
            privacy: "Privacy Policy",
            terms: "Terms of Use",
            responsible_gaming: "Responsible Gaming",
            responsible_gaming_desc: "If you have gambling problems, seek help:",
            gambling_therapy: "Gambling Therapy",
            gamblers_anonymous: "Gamblers Anonymous",
            copyright: "© 2023 Slot Expert. All rights reserved. 18+"
        },
        lang: {
            english: "English",
            russian: "Русский"
        },
        login: {
            title: "Admin Login",
            username_label: "Username",
            password_label: "Password",
            submit: "Login",
            error: "Invalid username or password"
        },
        admin: {
            title: "Admin Panel - Manage Content",
            add_item: "Add/Edit Item",
            title_label: "Title",
            description_label: "Description",
            image_label: "Image URL",
            rtp_label: "RTP (%)",
            rating_label: "Rating (0-5)",
            review_link_label: "Review Link",
            category_label: "Category",
            submit: "Save Item",
            cancel: "Cancel",
            items_list: "Items List",
            actions: "Actions"
        }
    },
    ru: {
        site_name: "Слот Эксперт",
        page_title: {
            new_slots: "Слот Эксперт - Новые Слоты",
            all_slots: "Слот Эксперт - Все Слоты",
            pragmatic_slots: "Слот Эксперт - Слоты Pragmatic",
            strategies: "Слот Эксперт - Стратегии",
            login: "Слот Эксперт - Вход для администратора",
            admin: "Слот Эксперт - Админ-панель"
        },
        nav: {
            new_slots: "Новые Слоты",
            pragmatic_slots: "Слоты Pragmatic",
            all_slots: "Все Слоты",
            strategies: "Стратегии"
        },
        hero: {
            title: "Ваш гид по онлайн-слотам",
            subtitle: "Исследуйте лучшие слоты, читайте обзоры и осваивайте выигрышные стратегии",
            explore_slots: "Исследовать новые слоты",
            random_slot: "Случайный слот"
        },
        new_slots_page: {
            title: "Откройте новые слоты",
            subtitle: "Исследуйте последние релизы слотов с захватывающими функциями и высокими выплатами"
        },
        all_slots_page: {
            title: "Коллекция всех слотов",
            subtitle: "Просмотрите нашу полную библиотеку онлайн-слотов с обзорами и рейтингами"
        },
        pragmatic_slots_page: {
            title: "Слоты Pragmatic Play",
            subtitle: "Откройте для себя лучшие слоты от Pragmatic Play с захватывающими функциями и высоким RTP"
        },
        strategies_page: {
            title: "Игровые стратегии",
            subtitle: "Совершенствуйте свою игру с проверенными стратегиями и советами"
        },
        new_slots: {
            title: "Последние релизы слотов"
        },
        all_slots: {
            title: "Наша библиотека слотов"
        },
        pragmatic_slots: {
            title: "Лучшие слоты Pragmatic Play"
        },
        strategies: {
            title: "Лучшие стратегии",
            read_more: "Читать далее"
        },
        slots: {
            new: "НОВЫЙ",
            top: "ТОП",
            pragmatic: "Pragmatic",
            rtp: "RTP {value}",
            read_review: "Читать обзор"
        },
        items: {
            new: "Новый",
            top: "Топ",
            pragmatic: "Pragmatic",
            strategy: "Стратегия"
        },
        tabs: {
            new_slots: "Новые слоты",
            top_slots: "Топ слоты",
            strategies: "Игровые стратегии"
        },
        footer: {
            about: "Самое честное руководство по онлайн-слотам и игровым стратегиям.",
            sections: "Разделы",
            all_slots: "Все слоты",
            gaming_strategies: "Игровые стратегии",
            information: "Информация",
            about_us: "О нас",
            contacts: "Контакты",
            privacy: "Политика конфиденциальности",
            terms: "Условия использования",
            responsible_gaming: "Ответственная игра",
            responsible_gaming_desc: "Если у вас проблемы с азартными играми, обратитесь за помощью:",
            gambling_therapy: "Терапия азартных игр",
            gamblers_anonymous: "Анонимные игроки",
            copyright: "© 2023 Слот Эксперт. Все права защищены. 18+"
        },
        lang: {
            english: "English",
            russian: "Русский"
        },
        login: {
            title: "Вход для администратора",
            username_label: "Имя пользователя",
            password_label: "Пароль",
            submit: "Войти",
            error: "Неверное имя пользователя или пароль"
        },
        admin: {
            title: "Админ-панель - Управление контентом",
            add_item: "Добавить/Редактировать элемент",
            title_label: "Название",
            description_label: "Описание",
            image_label: "URL изображения",
            rtp_label: "RTP (%)",
            rating_label: "Рейтинг (0-5)",
            review_link_label: "Ссылка на обзор",
            category_label: "Категория",
            submit: "Сохранить элемент",
            cancel: "Отмена",
            items_list: "Список элементов",
            actions: "Действия"
        }
    }
};

let currentLanguage = localStorage.getItem('language') || 'en';

function applyLocalization() {
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        let text = key.split('.').reduce((obj, k) => obj[k], translations[currentLanguage]);
        
        const options = element.getAttribute('data-i18n-options');
        if (options) {
            const parsedOptions = JSON.parse(options);
            Object.keys(parsedOptions).forEach(optKey => {
                text = text.replace(`{${optKey}}`, parsedOptions[optKey]);
            });
        }
        
        element.textContent = text;
    });

    const langIndicator = document.getElementById('lang-indicator');
    if (langIndicator) {
        langIndicator.textContent = currentLanguage.toUpperCase();
    }
}

function changeLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('language', lang);
    applyLocalization();
}

document.addEventListener('DOMContentLoaded', () => {
    applyLocalization();
});